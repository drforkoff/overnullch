# <img src="https://raw.githubusercontent.com/Juribiyan/overnullch/master/fav/favicon-32x32.png"> Overnullch

## Развертывание
*В настоящее время Овернульч не поставляется с удобным инсталлером или сборщиком, но это может быть справлено в дальнейшем.*

### База данных
* Овернульч использует MySQL.
* Учетные данные для входа в базу данных вводятся в `config.php`. Поддерживается совместное использование с [Instant 0chan](https://github.com/devarped/instant-0chan), в этом случае для подключения к базе данных будет использоваться `config.php` инстанта.
* Импортируйте `/util/overnullch.sql` в используемую базу данных.

### Учетные записи
* В файле `/overnullch-config.php` заполните поля `SALT`, `MASTER_HASH` и `MOD_HASHES`. Для получения хэшей пройдите по ссылке `/overnullch-config.php?getpasswordhash=<ваш пароль>` (поле `SALT` должно быть предварительно заполнено).

### Редактирование локального списка досок
* Локальный список досок находится в файле `/babel/src/frame.js`. Ищется по комменту `// Own boardlist`.
* Для компиляции JS необходимо выполнить `npm install` из директории `/babel/`, а потом оттуда же `npm run build`. Предварительно должен быть установлен Node.js.

### Юзерскрипт
* Юзерскрипт находится в папке `/util/overnullch-links.user.js`.
* Замените все ссылки в юзерскрипте на ваш домен.
* Разместите юзерскрипт в удобном для вас месте (например, github).
* Замените хотлинки на скрипт во `/frame.html` и `/index.html` на вашу версию скрипта и убедитесь, что он устанавливается.

### Экстра контент
Можно заполнить базу данных параш данными, сохраненными с овернульча (данные не самые свежие).

* Отредактируйте файл `/util/extra/chans.sql`, заменив в нем строку `INSERT_PASSWORD_HASH` на ваш `MASTER_HASH`, сгенерированный ранее.
* Скопируйте данные из директории `/util/extra/balls/` в `/chans/balls/`.
* Принудительно обновите JSON-файл параш, перейдя по ссылке `/editor/api.php?forceupdate=<ваш MASTER_HASH>`.

### Смена названия
Пока что удобнее всего это сделать с помозью автозамены (`grep`).

## TODO
* Сделать шрифты локальными
* Обеспечить работу без JS (лол)
